setwd("C:/Users/pn211/Box/0MyBoxFolders/active Work/Rtglm/paper")
## load data
data(Flu1918)
data(Flu2009)
data(Measles1861)
data(SARS2003)
data(Smallpox1972)
data <- list(Measles1861 = Measles1861,
Flu1918 = Flu1918,
Smallpox1972 = Smallpox1972,
Flu2009 = Flu2009,
SARS2003 = SARS2003)
rm(list=ls())
library(Hmisc)
library(EpiEstim)
library(incidence)
library(projections)
library(ggplot2)
# remove.packages('Rtglm')
# devtools::install_github("pnouvellet/Rtglm",build = TRUE)
library(Rtglm)
## load data
data(Flu1918)
data(Flu2009)
data(Measles1861)
data(SARS2003)
data(Smallpox1972)
data <- list(Measles1861 = Measles1861,
Flu1918 = Flu1918,
Smallpox1972 = Smallpox1972,
Flu2009 = Flu2009,
SARS2003 = SARS2003)
rm(Measles1861 ,
Flu1918 ,
Smallpox1972 ,
Flu2009 ,
SARS2003 )
for (i in 1:length(data)){
if(i %in% c(1,2,3,5)){
data[[i]]$incidence <- data.frame(local = data[[i]]$incidence,
imported = 0)
data[[i]]$incidence$imported[1] <- data[[i]]$incidence$local[1]
data[[i]]$incidence$local[1] <- 0
}else{
data[[i]]$incidence <- data.frame(local = data[[i]]$incidence$I,
imported = 0)
data[[i]]$incidence$imported[1] <- data[[i]]$incidence$local[1]
data[[i]]$incidence$local[1] <- 0
}
}
## incidence:
for(i in 1:length(data)){
plot(rowSums(data[[i]]$incidence),main = names(data)[i])
}
# prior: exponential distribution with mean 1
mean_prior = 5
std_prior = 5
para_prior <- epitrix::gamma_mucv2shapescale(mu = mean_prior,cv = std_prior/mean_prior)
hist(rgamma(n = 1e3,shape = para_prior$shape, scale = para_prior$scale))
data[[k]]$incidence
k=1
data[[k]]$incidence
data[[k]]$incidence
aa=si_distr
aa=data[[k]]$incidence
View(aa)
rm(list=ls())
library(Hmisc)
library(EpiEstim)
library(incidence)
library(projections)
library(ggplot2)
remove.packages('Rtglm')
devtools::install_github("pnouvellet/Rtglm",build = TRUE)
library(Rtglm)
library(Rtglm)
devtools::install_github("pnouvellet/Rtglm",build = TRUE)
